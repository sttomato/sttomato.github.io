<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="google9052d4d2b41d4fe2.html" />














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico?v=5.1.3">


  <link rel="mask-icon" href="/favicon.ico?v=5.1.3" color="#222">





  <meta name="keywords" content="LeetCode,Backtracking," />










<meta name="description" content="Problems Lists What is Backtracking?">
<meta name="keywords" content="LeetCode,Backtracking">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode Backtracking">
<meta property="og:url" content="http://yoursite.com/child/2017/09/21/LeetCode-Backtracking/index.html">
<meta property="og:site_name" content="Tomato | 日狗少年的吃瓜日常">
<meta property="og:description" content="Problems Lists What is Backtracking?">
<meta property="og:image" content="http://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Binary-reflected_Gray_code_construction.svg/250px-Binary-reflected_Gray_code_construction.svg.png?_=4315649">
<meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Telephone-keypad2.svg/200px-Telephone-keypad2.svg.png">
<meta property="og:image" content="https://leetcode.com/static/images/problemset/8-queens.png">
<meta property="og:image" content="https://leetcode.com/static/images/problemset/8-queens.png">
<meta property="og:image" content="http://wx1.sinaimg.cn/mw690/bb7e144aly1fjw8f6zmy7j20go02d3yh.jpg">
<meta property="og:updated_time" content="2017-10-22T14:31:44.712Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode Backtracking">
<meta name="twitter:description" content="Problems Lists What is Backtracking?">
<meta name="twitter:image" content="http://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Binary-reflected_Gray_code_construction.svg/250px-Binary-reflected_Gray_code_construction.svg.png?_=4315649">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/child/2017/09/21/LeetCode-Backtracking/"/>





  <title>LeetCode Backtracking | Tomato | 日狗少年的吃瓜日常</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  

  <div class="container  page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Tomato | 日狗少年的吃瓜日常</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-collection">
          <a href="/collection/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-map-signs"></i> <br />
            
            collection
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/child/2017/09/21/LeetCode-Backtracking/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="St. Tomato">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomato | 日狗少年的吃瓜日常">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">LeetCode Backtracking</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-21T13:46:58+08:00">
                2017-09-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2017/09/21/LeetCode-Backtracking/" class="leancloud_visitors" data-flag-title="LeetCode Backtracking">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><a href="https://leetcode.com/problemset/all/?topicSlugs=backtracking" target="_blank" rel="external"><strong>Problems Lists</strong></a></p>
<p>What is Backtracking?</p>
<a id="more"></a>
<h1 id="Medium"><a href="#Medium" class="headerlink" title="Medium"></a>Medium</h1><h2 id="357-Count-Numbers-with-Unique-Digits"><a href="#357-Count-Numbers-with-Unique-Digits" class="headerlink" title="357. Count Numbers with Unique Digits"></a>357. Count Numbers with Unique Digits</h2><p>Description<br>Given a non-negative integer n, count all numbers with unique digits, x, where $0 \le x &lt; 10^n$.</p>
<p>Example:<br>Given n = 2, return 91. (The answer should be the total numbers in the range of $0 \le x &lt; 100$, excluding <code>[11,22,33,44,55,66,77,88,99]</code>)</p>
<p>Credits:<br>Special thanks to @memoryless for adding this problem and creating all test cases.</p>
<p>解题思路：<br>一个n位数并且每位数字不重复，总共有这么多个数字 </p>
<script type="math/tex; mode=display">
f(n) = {A_{10}^n} - {A_{9}}^{n-1}</script><p>设</p>
<script type="math/tex; mode=display">f(0) = A_{10}^0 = 1</script><p>然后累加。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countNumbersWithUniqueDigits</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (n &gt; <span class="number">10</span>) n = <span class="number">10</span>;</div><div class="line"></div><div class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> tmp1 = <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> tmp2 = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</div><div class="line">            result += tmp1 - tmp2;</div><div class="line">            tmp1 *= <span class="number">10</span> - i;</div><div class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</div><div class="line">                tmp2 = <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                tmp2 *= <span class="number">10</span> - i;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><a href="http://www.cnblogs.com/grandyang/p/5582633.html" target="_blank" rel="external">回溯方法</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countNumbersWithUniqueDigits</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> res = <span class="number">1</span>, max = <span class="built_in">pow</span>(<span class="number">10</span>, n), used = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; ++i) &#123;</div><div class="line">            used |= (<span class="number">1</span> &lt;&lt; i);</div><div class="line">            res += search(i, max, used);</div><div class="line">            used &amp;= ~(<span class="number">1</span> &lt;&lt; i);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> pre, <span class="keyword">int</span> max, <span class="keyword">int</span> used)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (pre &lt; max) ++res;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">return</span> res;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (!(used &amp; (<span class="number">1</span> &lt;&lt; i))) &#123;</div><div class="line">                used |= (<span class="number">1</span> &lt;&lt; i);</div><div class="line">                <span class="keyword">int</span> cur = <span class="number">10</span> * pre + i;</div><div class="line">                res += search(cur, max, used);</div><div class="line">                used &amp;= ~(<span class="number">1</span> &lt;&lt; i);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>bug版回溯<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countNumbersWithUniqueDigits</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n &gt; <span class="number">10</span>) &#123;</div><div class="line">            <span class="keyword">return</span> countNumbersWithUniqueDigits(<span class="number">10</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; used(<span class="number">10</span>, <span class="literal">false</span>);</div><div class="line">        <span class="keyword">int</span> count = <span class="number">1</span>;</div><div class="line">        <span class="keyword">long</span> max = <span class="built_in">pow</span>(<span class="number">10</span>, n);</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">            used[i] = <span class="literal">true</span>;</div><div class="line">            count += search(i, max, used);</div><div class="line">            used[i] = <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> count;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">long</span> pre, <span class="keyword">long</span> max, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; used)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (pre &lt; max) count++;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">return</span> count;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (!used[i]) &#123;</div><div class="line">                used[i] = <span class="literal">true</span>;</div><div class="line">                <span class="keyword">long</span> cur = <span class="number">10</span> * pre + i;</div><div class="line">                count += search(cur, max, used);</div><div class="line">                used[i] = <span class="literal">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> count;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="22-Generate-Parentheses"><a href="#22-Generate-Parentheses" class="headerlink" title="22. Generate Parentheses"></a>22. Generate Parentheses</h2><p>Description<br>Given n pairs of parentheses, write a function to generate all combinations of well-formed parentheses.</p>
<p>For example, given n = 3, a solution set is:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  <span class="string">"((()))"</span>,</div><div class="line">  <span class="string">"(()())"</span>,</div><div class="line">  <span class="string">"(())()"</span>,</div><div class="line">  <span class="string">"()(())"</span>,</div><div class="line">  <span class="string">"()()()"</span></div><div class="line">]</div></pre></td></tr></table></figure></p>
<p>解题思路：合法字符串的任意位置，右括号数量不大于左括号数量。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; generateParenthesis(<span class="keyword">int</span> n) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; res;</div><div class="line">        func(n, n, <span class="string">""</span>, res);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="built_in">string</span> tmp, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp;res)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (left &gt; right) <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">if</span> (left ==<span class="number">0</span> &amp;&amp; right == <span class="number">0</span>) res.push_back(tmp);</div><div class="line">            <span class="keyword">if</span> (left &gt; <span class="number">0</span>) func(left - <span class="number">1</span>, right, tmp + <span class="string">'('</span>, res);</div><div class="line">            <span class="keyword">if</span> (right &gt; <span class="number">0</span>) func(left, right - <span class="number">1</span>, tmp + <span class="string">')'</span>, res);            </div><div class="line">        </div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p><a href="http://www.cnblogs.com/grandyang/p/4444160.html" target="_blank" rel="external">参考来源</a></p>
<hr>
<h2 id="216-Combination-Sum-III"><a href="#216-Combination-Sum-III" class="headerlink" title="216. Combination Sum III"></a>216. Combination Sum III</h2><p>Description：</p>
<p>Find all possible combinations of k numbers that add up to a number n, given that only numbers from 1 to 9 can be used and each combination should be a unique set of numbers.</p>
<p>Example 1:</p>
<p>Input: k = 3, n = 7</p>
<p>Output:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]]</div></pre></td></tr></table></figure></p>
<p>Example 2:</p>
<p>Input: k = 3, n = 9</p>
<p>Output:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">6</span>], [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>], [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]]</div></pre></td></tr></table></figure></p>
<p>Credits:<br>Special thanks to @mithmatt for adding this problem and creating all test cases.</p>
<p>解题思路：把已经算过的数放入一个向量中，在不满足条件的情况下，把值退出来；满足条件下，把最终结果保存</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combinationSum3(<span class="keyword">int</span> k, <span class="keyword">int</span> n) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</div><div class="line">        func(k, n, <span class="number">1</span>, tmp, res);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> n, <span class="keyword">int</span> level, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;res)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n &lt; <span class="number">0</span>) <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">0</span> &amp;&amp; tmp.size() == k) res.push_back(tmp);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = level; i &lt;= <span class="number">9</span>; i++) &#123;</div><div class="line">            tmp.push_back(i);</div><div class="line">            func(k, n - i, i + <span class="number">1</span>, tmp, res);</div><div class="line">            <span class="comment">//func(k, n - i, level + 1, tmp, res);//bug版本；也能输出，但是会出现重复数字</span></div><div class="line">            tmp.pop_back();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><a href="http://www.cnblogs.com/grandyang/p/4537983.html" target="_blank" rel="external">参考</a></p>
<hr>
<h2 id="46-Permutations"><a href="#46-Permutations" class="headerlink" title="46. Permutations"></a>46. <span id="Permutations">Permutations</span></h2><p>Description：</p>
<p>Given a collection of distinct numbers, return all possible permutations.</p>
<p>For example,<br><code>[1,2,3]</code> have the following permutations:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>],</div><div class="line">  [<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p>！！！这是宝宝写出来的第一个回溯算法题！！！<br>解题思路：大循环【从nums中擦除一个数，在tmp中加入，然后把nums和tmp放到下一层递归；终止条件是当nums==0，tmp的大小和最初nums一样大时，查找tmp是否在结果中，如果在跳出，否则加入结果；然后把擦除的数插入回nums，tmp弹出这个数】<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; permute(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</div><div class="line">        func(nums, tmp, res);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; res)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (nums.size() == <span class="number">0</span> &amp;&amp; find(res.begin(), res.end(), tmp) != res.end()) <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">if</span> (nums.size() == <span class="number">0</span> &amp;&amp; find(res.begin(), res.end(), tmp) == res.end()) res.push_back(tmp);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> iter = nums.begin(); iter != nums.end(); iter++) &#123;</div><div class="line">            <span class="keyword">int</span> val = *iter;</div><div class="line">            tmp.push_back(val);</div><div class="line">            nums.erase(iter);</div><div class="line">            func(nums, tmp, res);</div><div class="line">            nums.insert(iter, val);</div><div class="line">            tmp.pop_back();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p><a href="http://www.cnblogs.com/grandyang/p/4358848.html" target="_blank" rel="external">别人的解</a></p>
<hr>
<h2 id="89-Gray-Code"><a href="#89-Gray-Code" class="headerlink" title="89. Gray Code"></a>89. Gray Code</h2><p>Description:</p>
<p>The gray code is a binary numeral system where two successive values differ in only one bit.</p>
<p>Given a non-negative integer n representing the total number of bits in the code, print the sequence of gray code. A gray code sequence must begin with 0.</p>
<p>For example, given n = 2, return <code>[0,1,3,2]</code>. Its gray code sequence is:<br><figure class="highlight basic"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">00 </span>- <span class="number">0</span></div><div class="line"><span class="symbol">01 </span>- <span class="number">1</span></div><div class="line"><span class="symbol">11 </span>- <span class="number">3</span></div><div class="line"><span class="symbol">10 </span>- <span class="number">2</span></div></pre></td></tr></table></figure></p>
<p>Note:<br>For a given n, a gray code sequence is not uniquely defined.</p>
<p>For example, <code>[0,2,3,1]</code> is also a valid gray code sequence according to the above definition.</p>
<p>For now, the judge is able to judge based on one instance of gray code sequence. Sorry about that.</p>
<p>公式法：每个格雷码 = 当前二进制数 异或 （当前二进制数右移一位）</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; grayCode(<span class="keyword">int</span> n) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">pow</span>(<span class="number">2</span>, n); i++) &#123;</div><div class="line">            res.push_back((i &gt;&gt; <span class="number">1</span>) ^ i);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>镜像翻转法：<br><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Binary-reflected_Gray_code_construction.svg/250px-Binary-reflected_Gray_code_construction.svg.png?_=4315649" alt="image"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; grayCode(<span class="keyword">int</span> n) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</div><div class="line">        res.push_back(<span class="number">0</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="built_in">pow</span>(<span class="number">2</span>, i) - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</div><div class="line">                res.push_back(res[j] | (<span class="number">1</span> &lt;&lt; i));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>回溯法，目前没搞明白……囧</p>
<p><a href="http://www.cnblogs.com/grandyang/p/4315649.html" target="_blank" rel="external">回溯法1</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; grayCode(<span class="keyword">int</span> n) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</div><div class="line">        <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; s;</div><div class="line">        helper(n, s, <span class="number">0</span>, res);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt;&amp; s, <span class="keyword">int</span> out, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; res)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (!s.count(out)) &#123;</div><div class="line">            s.insert(out);</div><div class="line">            res.push_back(out);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">            <span class="keyword">int</span> t = out;</div><div class="line">            <span class="keyword">if</span> ((t &amp; (<span class="number">1</span> &lt;&lt; i)) == <span class="number">0</span>) t |= (<span class="number">1</span> &lt;&lt; i);</div><div class="line">            <span class="keyword">else</span> t &amp;= ~(<span class="number">1</span> &lt;&lt; i);</div><div class="line">            <span class="keyword">if</span> (s.count(t)) <span class="keyword">continue</span>;</div><div class="line">            helper(n, s, t, res);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><a href="http://www.cnblogs.com/yanliang12138/p/4470633.html" target="_blank" rel="external">回溯法2</a><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">conversion</span><span class="params">(<span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> temp=<span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</div><div class="line">        temp=temp*<span class="number">2</span>;</div><div class="line">    <span class="keyword">return</span> temp;</div><div class="line">&#125;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; grayCode(<span class="keyword">int</span> n) &#123;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</div><div class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)</div><div class="line">    &#123;</div><div class="line">        result.push_back(<span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)</div><div class="line">    &#123;</div><div class="line">        result.push_back(<span class="number">0</span>);</div><div class="line">        result.push_back(<span class="number">1</span>);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">//queue&lt;int&gt; temp;</span></div><div class="line">        result=grayCode(n<span class="number">-1</span>);</div><div class="line">        <span class="keyword">int</span> len=result.size();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=len<span class="number">-1</span>;i&gt;=<span class="number">0</span>;--i)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">int</span> temp=result[i]+conversion(n);</div><div class="line">            result.push_back(temp);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result; </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="78-Subsets"><a href="#78-Subsets" class="headerlink" title="78. Subsets"></a><span id="Subsets">78. Subsets</span></h2><p>Description：</p>
<p>Given a set of distinct integers, nums, return all possible subsets.</p>
<p>Note: The solution set must not contain duplicate subsets.</p>
<p>For example,<br>If nums = <code>[1,2,3]</code>, a solution is:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>],</div><div class="line">  [<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>],</div><div class="line">  []</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p><a href="http://www.cnblogs.com/grandyang/p/4309345.html" target="_blank" rel="external">解题思路</a>：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">                      []        </div><div class="line">                 /          \        </div><div class="line">                /            \     </div><div class="line">               /              \</div><div class="line">            [<span class="number">1</span>]                []</div><div class="line">         /       \           /    \</div><div class="line">        /         \         /      \        </div><div class="line">     [<span class="number">1</span> <span class="number">2</span>]       [<span class="number">1</span>]       [<span class="number">2</span>]     []</div><div class="line">    /     \     /   \     /   \    / \</div><div class="line">[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>] [<span class="number">1</span> <span class="number">2</span>] [<span class="number">1</span> <span class="number">3</span>] [<span class="number">1</span>] [<span class="number">2</span> <span class="number">3</span>] [<span class="number">2</span>] [<span class="number">3</span>] []</div></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; subsets(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp = &#123;&#125;;</div><div class="line">        func(<span class="number">0</span>, tmp, res, nums);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> pos, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;res, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums)</span> </span>&#123;</div><div class="line">        res.push_back(tmp);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = pos; i &lt; nums.size(); i ++) &#123;</div><div class="line">            tmp.push_back(nums[i]);</div><div class="line">            func(i + <span class="number">1</span>, tmp, res, nums);</div><div class="line">            tmp.pop_back();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<hr>
<h2 id="77-Combinations"><a href="#77-Combinations" class="headerlink" title="77. Combinations"></a>77. Combinations</h2><p>Description:<br>Given two integers n and k, return all possible combinations of k numbers out of 1 … n.</p>
<p>For example,<br>If n = 4 and k = 2, a solution is:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">2</span>,<span class="number">4</span>],</div><div class="line">  [<span class="number">3</span>,<span class="number">4</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">3</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">4</span>],</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p>解题思路：<br>这题是组合情况，比之前的46题<a href="#Permutations">排列情况</a>更简单一点</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; input;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</div><div class="line">            input.push_back(i);</div><div class="line">        &#125;</div><div class="line">        func(n, k, tmp, <span class="number">0</span>, res);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;tmp, <span class="keyword">int</span> pos, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;res)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (tmp.size() == k &amp;&amp; find(res.begin(), res.end(), tmp) == res.end()) res.push_back(tmp);</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (tmp.size() == k) <span class="keyword">return</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = pos; i &lt; n; i++) &#123;</div><div class="line">            tmp.push_back(i + <span class="number">1</span>);</div><div class="line">            func(n, k, tmp, i + <span class="number">1</span>, res);</div><div class="line">            tmp.pop_back();</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<hr>
<h2 id="39-Combination-Sum"><a href="#39-Combination-Sum" class="headerlink" title="39. Combination Sum"></a>39. <span id="Combination Sum">Combination Sum</span></h2><p>Description:</p>
<p>Given a set of candidate numbers (C) (without duplicates) and a target number (T), find all unique combinations in C where the candidate numbers sums to T.</p>
<p>The same repeated number may be chosen from C unlimited number of times.</p>
<p>Note:<br>All numbers (including target) will be positive integers.<br>The solution set must not contain duplicate combinations.<br>For example, given candidate set <code>[2, 3, 6, 7]</code> and target 7,<br>A solution set is:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">7</span>],</div><div class="line">  [<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line">]</div></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combinationSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</div><div class="line">        <span class="comment">//int sum = 0;</span></div><div class="line">        func(target, tmp, res, candidates);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> target, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; res, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> c: tmp) sum += c;</div><div class="line">        <span class="keyword">if</span> (sum &gt; target) <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (sum == target) &#123;</div><div class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp2 =tmp; <span class="comment">//一开始没有加tmp2变量，导致每次排序之后tmp.pop_back()改变原先内容</span></div><div class="line">            sort(tmp2.begin(), tmp2.end());</div><div class="line">            <span class="keyword">if</span> (find(res.begin(), res.end(), tmp2) == res.end()) res.push_back(tmp2);</div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; candidates.size(); i++) &#123;</div><div class="line">            tmp.push_back(candidates[i]);</div><div class="line">            func(target, tmp, res, candidates);</div><div class="line">            tmp.pop_back();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>faster<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combinationSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</div><div class="line">        <span class="comment">//int sum = 0;</span></div><div class="line">        func(target, tmp, res, candidates);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> target, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; res, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (<span class="number">0</span> == target) &#123;</div><div class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp2 =tmp;</div><div class="line">            sort(tmp2.begin(), tmp2.end());</div><div class="line">            <span class="keyword">if</span> (find(res.begin(), res.end(), tmp2) == res.end()) res.push_back(tmp2);</div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; candidates.size(); i++) &#123;</div><div class="line">            <span class="keyword">if</span> (target &gt;= candidates[i]) &#123;</div><div class="line">            tmp.push_back(candidates[i]);</div><div class="line">            func(target - candidates[i], tmp, res, candidates);</div><div class="line">            tmp.pop_back();                </div><div class="line">        	&#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>more faster<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combinationSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</div><div class="line">        <span class="comment">//sort(candidates.begin(), candidates.end());</span></div><div class="line">        func(target, tmp, res, candidates, <span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> target, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; res, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> idx)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (<span class="number">0</span> == target) &#123;</div><div class="line">            res.push_back(tmp);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = idx; i &lt; candidates.size(); i++) &#123;</div><div class="line">            <span class="comment">//if(i&gt;idx &amp;&amp; candidates[i]==candidates[i-1]) continue;</span></div><div class="line">            <span class="keyword">if</span> (target &gt;= candidates[i]) &#123;</div><div class="line">                tmp.push_back(candidates[i]);</div><div class="line">                func(target - candidates[i], tmp, res, candidates, i);</div><div class="line">                tmp.pop_back();</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="90-Subsets-II"><a href="#90-Subsets-II" class="headerlink" title="90. Subsets II"></a>90. Subsets II</h2><p>Description:</p>
<p>Given a collection of integers that might contain duplicates, nums, return all possible subsets.</p>
<p>Note: The solution set must not contain duplicate subsets.</p>
<p>For example,<br>If nums = <code>[1,2,2]</code>, a solution is:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>],</div><div class="line">  []</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p>解题思路：<br>此题与<a href="#Subsets">Subsets</a>非常思路相同，只是在加入过程中多用了一个查找来判断重复，<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; subsetsWithDup(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp = &#123;&#125;;</div><div class="line">        sort(nums.begin(), nums.end());</div><div class="line">        <span class="keyword">int</span> size = nums.size();</div><div class="line">        func(<span class="number">0</span>, tmp, res, nums);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> idx, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; res, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (find(res.begin(), res.end(), tmp) == res.end()) res.push_back(tmp);</div><div class="line">        <span class="keyword">else</span> <span class="keyword">return</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = idx; i &lt;nums.size(); i++) &#123;</div><div class="line">            tmp.push_back(nums[i]);</div><div class="line">            func(i + <span class="number">1</span>, tmp, res, nums);</div><div class="line">            tmp.pop_back();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="17-Letter-Combinations-of-a-Phone-Number"><a href="#17-Letter-Combinations-of-a-Phone-Number" class="headerlink" title="17. Letter Combinations of a Phone Number"></a>17. Letter Combinations of a Phone Number</h2><p>Description：</p>
<p>Given a digit string, return all possible letter combinations that the number could represent.</p>
<p>A mapping of digit to letters (just like on the telephone buttons) is given below.<br><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Telephone-keypad2.svg/200px-Telephone-keypad2.svg.png" alt="image"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Input:Digit string &quot;23&quot;</div><div class="line">Output: [&quot;ad&quot;, &quot;ae&quot;, &quot;af&quot;, &quot;bd&quot;, &quot;be&quot;, &quot;bf&quot;, &quot;cd&quot;, &quot;ce&quot;, &quot;cf&quot;].</div></pre></td></tr></table></figure></p>
<p>解题思路：<br>把这个问题构造成一个普通的回溯问题，差别在于一般回溯问题都是在一个向量上操作的，这个是在二维向量上操作，难点在于把二维向量构造出来，然后就可以了，不会存在重复和排序问题。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt; makeTable() &#123; <span class="comment">//如果不看这个函数，代码还是挺简洁的 (=´ω｀=)</span></div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt; m;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; tmp0 = &#123;<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>&#125;;</div><div class="line">        m.push_back(tmp0);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; tmp1 = &#123;<span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>&#125;;</div><div class="line">        m.push_back(tmp1);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; tmp2  = &#123;<span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>&#125;;</div><div class="line">        m.push_back(tmp2);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; tmp3  = &#123;<span class="string">'j'</span>, <span class="string">'k'</span>, <span class="string">'l'</span>&#125;;</div><div class="line">        m.push_back(tmp3);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; tmp4  = &#123;<span class="string">'m'</span>, <span class="string">'n'</span>, <span class="string">'o'</span>&#125;;</div><div class="line">        m.push_back(tmp4);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; tmp5  = &#123;<span class="string">'p'</span>, <span class="string">'q'</span>, <span class="string">'r'</span>, <span class="string">'s'</span>&#125;;</div><div class="line">        m.push_back(tmp5);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; tmp6  = &#123;<span class="string">'t'</span>, <span class="string">'u'</span>, <span class="string">'v'</span>&#125;;</div><div class="line">        m.push_back(tmp6);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; tmp7  = &#123;<span class="string">'w'</span>, <span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>&#125;;</div><div class="line">        m.push_back(tmp7);    </div><div class="line">        <span class="keyword">return</span> m;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; letterCombinations(<span class="built_in">string</span> digits) &#123;</div><div class="line">        <span class="keyword">if</span> (digits.empty()) <span class="keyword">return</span> &#123;&#125;;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt; m = makeTable();</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; res;</div><div class="line">        <span class="built_in">string</span> tmp = <span class="string">""</span>;</div><div class="line">        func(tmp, <span class="number">0</span>, digits, m, res);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="built_in">string</span> tmp, <span class="keyword">int</span> idx, <span class="built_in">string</span> digits, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; m, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; res)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (idx == digits.size()) res.push_back(tmp);</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> digits_i = digits[idx] - <span class="string">'2'</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m[digits_i].size(); i++) &#123;</div><div class="line">            tmp += m[digits_i][i];</div><div class="line">            func(tmp, idx + <span class="number">1</span>, digits, m, res);</div><div class="line">            tmp.pop_back();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<hr>
<h2 id="40-Combination-Sum-II"><a href="#40-Combination-Sum-II" class="headerlink" title="40. Combination Sum II"></a>40. Combination Sum II</h2><p>Description:</p>
<p>Given a collection of candidate numbers (C) and a target number (T), find all unique combinations in C where the candidate numbers sums to T.</p>
<p>Each number in C may only be used once in the combination.</p>
<p>Note:<br>All numbers (including target) will be positive integers.<br>The solution set must not contain duplicate combinations.<br>For example, given candidate set <code>[10, 1, 2, 7, 6, 1, 5]</code> and target 8,<br>A solution set is:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">1</span>, <span class="number">7</span>],</div><div class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>],</div><div class="line">  [<span class="number">2</span>, <span class="number">6</span>],</div><div class="line">  [<span class="number">1</span>, <span class="number">1</span>, <span class="number">6</span>]</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p>解题思路：<br>这题是在Combination Sum基础上加了两个变化，一个是无序，另一个是重复数字，对应的策略也就是在<a href="#Combination Sum">Combination Sum</a>中被我注释的两行(一开始是抄了人家的代码，没抄明白，发现注释了也能跑通，现在才大致知道作用是什么了)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combinationSum2(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</div><div class="line">        sort(candidates.begin(), candidates.end());</div><div class="line">        </div><div class="line">        func(<span class="number">0</span>, target, tmp, candidates, res);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> target, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; res)</span> </span>&#123;</div><div class="line">        <span class="comment">//if (target &lt; 0) return;</span></div><div class="line">        <span class="keyword">if</span> (target == <span class="number">0</span>) res.push_back(tmp);</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = idx; i &lt; candidates.size(); i++) &#123;</div><div class="line">            <span class="keyword">if</span> (i &gt; idx &amp;&amp; candidates[i] == candidates[i - <span class="number">1</span>]) <span class="keyword">continue</span>; <span class="comment">//这句的作用在于，一个是让在这一层中，相同的数字不再继续往下找；第二，i &gt; idx 而不是 i &gt; 0是确保了从idx开始的数能够被保存进来</span></div><div class="line">            <span class="keyword">if</span> (target &gt;= candidates[i]) &#123;</div><div class="line">                tmp.push_back(candidates[i]);</div><div class="line">                func(i + <span class="number">1</span>, target - candidates[i], tmp, candidates, res);</div><div class="line">                tmp.pop_back();                </div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span>; <span class="comment">//这句让效率从24%到85%，之所以能用，是因为candidates数组已经排序过，数组后面的数必然都不满足</span></div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<hr>
<h2 id="131-Palindrome-Partitioning"><a href="#131-Palindrome-Partitioning" class="headerlink" title="131. Palindrome Partitioning"></a>131. Palindrome Partitioning</h2><p>Description：</p>
<p>Given a string s, partition s such that every substring of the partition is a palindrome.</p>
<p>Return all possible palindrome partitioning of s.</p>
<p>For example, given s = <code>&quot;aab&quot;</code>,<br>Return<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="string">"aa"</span>,<span class="string">"b"</span>],</div><div class="line">  [<span class="string">"a"</span>,<span class="string">"a"</span>,<span class="string">"b"</span>]</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p>解题思路：<br>思路很混乱， 第一，先有一个判断回文的函数；然后从前往后逐一取子集，如果当前字符是回文的则保存，并把后续的子字符串当做新字符串，依次迭代。有个难点是，边界问题。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">ispalindrome</span><span class="params">(<span class="built_in">string</span> str)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = str.size() - <span class="number">1</span>; i &lt; j; i ++, j--) &#123;</div><div class="line">            <span class="keyword">if</span> (str[i] != str[j]) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; partition(<span class="built_in">string</span> s) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; out;</div><div class="line">        <span class="comment">// string tmp;</span></div><div class="line">        func(<span class="string">""</span>, s, out, res);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="built_in">string</span> tmp, <span class="built_in">string</span> str, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; out, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;&amp; res)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (str.size() == <span class="number">1</span>) &#123;</div><div class="line">            out.push_back(str);</div><div class="line">            res.push_back(out);</div><div class="line">            out.pop_back();</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); i++) &#123;</div><div class="line">            tmp += str[i];</div><div class="line">            <span class="keyword">if</span> (ispalindrome(tmp)) &#123;</div><div class="line">                out.push_back(tmp);</div><div class="line">                <span class="keyword">if</span> (i == str.size() - <span class="number">1</span>) res.push_back(out);</div><div class="line">                <span class="keyword">else</span> func(<span class="string">""</span>, str.substr(i + <span class="number">1</span>, str.size() - i - <span class="number">1</span>), out, res);</div><div class="line">                out.pop_back();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>3ms大神的解法(我的是9ms)，代码非常简洁易懂，就是学不来。跟我的区别最大的是，他保存的是子串，往下传递的是坐标，方法上比较接近于普通的回溯。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; partition(<span class="built_in">string</span> s) &#123;</div><div class="line">        </div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; ret;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; tmp;</div><div class="line">        DFS(ret, tmp, s, <span class="number">0</span>);</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;&amp; ret, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; tmp, <span class="built_in">string</span>&amp; s, <span class="keyword">int</span> pos)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (pos == s.size())</div><div class="line">        &#123;</div><div class="line">            ret.push_back(tmp);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = pos; i &lt; s.size(); ++i)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(test(s, pos, i))</div><div class="line">            &#123;</div><div class="line">                tmp.push_back(s.substr(pos, i-pos+<span class="number">1</span>));</div><div class="line">                DFS(ret, tmp, s, i+<span class="number">1</span>);</div><div class="line">                tmp.pop_back();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">test</span><span class="params">(<span class="built_in">string</span>&amp; str, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> <span class="comment">//检查函数</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">while</span> (start &lt; end &amp;&amp; str[start] == str[end])</div><div class="line">        &#123;</div><div class="line">            ++start;</div><div class="line">            --end;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> (start &gt;= end);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="47-Permutations-II"><a href="#47-Permutations-II" class="headerlink" title="47. Permutations II"></a>47. Permutations II</h2><p>Description：</p>
<p>Given a collection of numbers that might contain duplicates, return all possible unique permutations.</p>
<p>For example,<br><code>[1,1,2]</code> have the following unique permutations:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>],</div><div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>],</div><div class="line">  [<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>]</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p>解题思路：这题在没有1,2两句的情况下，一直受到时间限制的困扰，加上之后就能通过。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; permuteUnique(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</div><div class="line">        <span class="comment">//vector&lt;int&gt; used(nums.size(), 0);</span></div><div class="line">        <span class="keyword">int</span> size = nums.size();</div><div class="line">        sort(nums.begin(), nums.end()); <span class="comment">//1</span></div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</div><div class="line">        func(tmp, res, size, nums);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; res, <span class="keyword">int</span> size, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (tmp.size() == size) &#123;</div><div class="line">            <span class="keyword">if</span> (find(res.begin(), res.end(), tmp) == res.end()) res.push_back(tmp);</div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> iter = nums.begin(); iter != nums.end(); iter++) &#123;</div><div class="line">            <span class="comment">//if (used[i] == 0) &#123;</span></div><div class="line">                <span class="comment">//used[i] = 1;</span></div><div class="line">            <span class="keyword">if</span> (iter &gt; nums.begin() &amp;&amp; *iter == *(iter - <span class="number">1</span>)) <span class="keyword">continue</span>; <span class="comment">//2 在排序之后相等的数字连续出现，重复数字不再进入下层递归，减小了时间复杂度。</span></div><div class="line">                <span class="keyword">int</span> val = *iter;</div><div class="line">                tmp.push_back(val);</div><div class="line">                nums.erase(iter);</div><div class="line">                func(tmp, res, size, nums);</div><div class="line">                nums.insert(iter, val);</div><div class="line">                tmp.pop_back();</div><div class="line">                <span class="comment">//used[i] = 0;</span></div><div class="line">            <span class="comment">//&#125;</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>目前LeetCode上最快的解，学习无能Orz<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">myPermute</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums, <span class="keyword">int</span> start, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt;&gt;&amp; result)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> length = nums.size();</div><div class="line">        <span class="keyword">if</span> (start == length) &#123;</div><div class="line">            result.push_back(nums);</div><div class="line">            <span class="comment">// cout &lt;&lt; per[1] &lt;&lt; per[2] &lt;&lt; per[3] &lt;&lt; endl;</span></div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125; </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (i != start &amp;&amp; nums[i] == nums[start])</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            swap(nums[i], nums[start]);</div><div class="line">            myPermute(nums, start + <span class="number">1</span>, result);</div><div class="line">            <span class="comment">// swap(nums[i], nums[start]);</span></div><div class="line">            </div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; permuteUnique(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</div><div class="line">        sort(nums.begin(), nums.end());</div><div class="line">        <span class="keyword">int</span> length = nums.size();</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt;&gt; result;</div><div class="line">        myPermute(nums, <span class="number">0</span>, result);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="60-Permutation-Sequence"><a href="#60-Permutation-Sequence" class="headerlink" title="60. Permutation Sequence"></a>60. Permutation Sequence</h2><p>Description：</p>
<p>The set <code>[1,2,3,…,n]</code> contains a total of n! unique permutations.</p>
<p>By listing and labeling all of the permutations in order,<br>We get the following sequence (ie, for n = 3):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="string">"123"</span></div><div class="line"><span class="string">"132"</span></div><div class="line"><span class="string">"213"</span></div><div class="line"><span class="string">"231"</span></div><div class="line"><span class="string">"312"</span></div><div class="line"><span class="string">"321"</span></div></pre></td></tr></table></figure></p>
<p>Given n and k, return the kth permutation sequence.</p>
<p>Note: Given n will be between 1 and 9 inclusive.</p>
<p>解题思路：<br>如果用<a href="#Permutations">Permutations</a>的思路来做的话，会超时。可以发现排序的数字仅看第一位，总是按照<script type="math/tex">1, 2 , 3 ,..., n</script>，这样的顺序排列的，然后看第一位之后的排序方式有<script type="math/tex">A_{n-1}^{n-1}</script>，也就是以1打头的数字排在<script type="math/tex">[0,\ A_{n-1}^{n-1}]</script>之间，以2打头的数字排在<script type="math/tex">[A_{n-1}^{n-1} + 1,\ 2 \times A_{n-1}^{n-1}]</script>，以<script type="math/tex">x</script>打头的数字排在<script type="math/tex">[(x - 1) \times A_{n-1}^{n-1} + 1,\ x \times A_{n-1}^{n-1}]</script>之间。确定第一个数字之后，后面的序列排在第<script type="math/tex">k = k - (x - 1) \times A_{n-1}^{n-1}</script>个，往下依次类推。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">getPermutation</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="built_in">string</span> res = <span class="string">""</span>;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) nums.push_back(i);</div><div class="line">        <span class="keyword">int</span> a = cntFunc(n - <span class="number">1</span>);</div><div class="line">        func(res, k, n, a, nums);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">cntFunc</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) res *= i;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="built_in">string</span>&amp; res, <span class="keyword">int</span> k, <span class="keyword">int</span> n, <span class="keyword">int</span> a, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span>;</div><div class="line">        <span class="comment">//int a = cntFunc(n - 1);</span></div><div class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> iter = nums.begin(); iter != nums.end(); iter ++, i++) &#123;</div><div class="line">            <span class="keyword">if</span> ((i * a &lt; k) &amp;&amp; ((i + <span class="number">1</span>) * a &gt;= k)) &#123;                        <span class="comment">//通过条件来剪枝，否则会超时</span></div><div class="line">                <span class="keyword">int</span> val = *iter;</div><div class="line">                res += val + <span class="string">'0'</span>;</div><div class="line">                <span class="keyword">if</span> (n &gt; <span class="number">1</span>) &#123;</div><div class="line">                    nums.erase(iter);                                       <span class="comment">//这种操作在VS2015上会报错</span></div><div class="line">                    func(res, k - (i * a), n - <span class="number">1</span>, a / (n - <span class="number">1</span>), nums);</div><div class="line">                    nums.insert(iter, val);                    </div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">break</span>;</div><div class="line"></div><div class="line">            &#125;      </div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="93-Restore-IP-Addresses"><a href="#93-Restore-IP-Addresses" class="headerlink" title="93. Restore IP Addresses"></a>93. Restore IP Addresses</h2><p>Description:</p>
<p>Given a string containing only digits, restore it by returning all possible valid IP address combinations.</p>
<p>For example:<br>Given <code>&quot;25525511135&quot;</code>,</p>
<p>return <code>[&quot;255.255.11.135&quot;, &quot;255.255.111.35&quot;]</code>. (Order does not matter)</p>
<p>解题思路：<br>用一个函数判断字符串是否合法，然后就是回溯</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; restoreIpAddresses(<span class="built_in">string</span> s) &#123;</div><div class="line">        <span class="keyword">if</span>(s.size() &gt; <span class="number">4</span> * <span class="number">3</span> || s.size() &lt; <span class="number">4</span>) <span class="keyword">return</span> &#123;&#125;; <span class="comment">//减少无效字符输入</span></div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; res;</div><div class="line">        func(<span class="number">0</span>, <span class="number">4</span>, <span class="string">""</span>, res, s);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> part, <span class="built_in">string</span> out, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; res, <span class="built_in">string</span> s)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (start == s.size() &amp;&amp; part == <span class="number">0</span>) &#123;</div><div class="line">            out.pop_back(); </div><div class="line">            res.push_back(out);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start, j = <span class="number">1</span>; i &lt; s.size(); i++, j++) &#123;</div><div class="line">            <span class="keyword">if</span> (j &gt; <span class="number">3</span>) <span class="keyword">return</span>;</div><div class="line">            <span class="built_in">string</span> tmp = s.substr(start, j); <span class="comment">//一开始substr用法出错</span></div><div class="line">            <span class="keyword">if</span> (isValid(tmp)) &#123;</div><div class="line">                tmp += <span class="string">'.'</span>;</div><div class="line">                <span class="keyword">int</span> len = out.size();</div><div class="line">                out += tmp;</div><div class="line">                func(i + <span class="number">1</span>, part - <span class="number">1</span>, out, res, s);</div><div class="line">                out = out.substr(<span class="number">0</span>, len);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isValid</span><span class="params">(<span class="built_in">string</span> str)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (str.empty() || str.size() &gt; <span class="number">3</span> || (str.size() &gt; <span class="number">1</span> &amp;&amp; str[<span class="number">0</span>] == <span class="string">'0'</span>)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); i ++) &#123;</div><div class="line">                res = res * <span class="number">10</span> + str[i] - <span class="string">'0'</span>; <span class="comment">// 字符串转数字出错</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> (res &lt;= <span class="number">255</span> &amp;&amp; res &gt;=<span class="number">0</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>稍微快一档的做法，从6ms到3ms<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; restoreIpAddresses(<span class="built_in">string</span> s) &#123;</div><div class="line">        <span class="keyword">if</span>(s.size() &gt; <span class="number">4</span> * <span class="number">3</span> || s.size() &lt; <span class="number">4</span>) <span class="keyword">return</span> &#123;&#125;;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; res;</div><div class="line">        func(<span class="number">0</span>, <span class="number">4</span>, <span class="string">""</span>, res, s);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> part, <span class="built_in">string</span> out, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; res, <span class="built_in">string</span> s)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (start == s.size() &amp;&amp; part == <span class="number">0</span>) &#123;</div><div class="line">            out.pop_back(); </div><div class="line">            res.push_back(out);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (part &lt;= <span class="number">0</span>) <span class="keyword">return</span>; <span class="comment">//分出第五段的时候就返回</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start, j = <span class="number">1</span>; i &lt; s.size() &amp;&amp; j &lt;= <span class="number">3</span>; i++, j++) &#123;</div><div class="line">            <span class="built_in">string</span> tmp = s.substr(start, j);</div><div class="line">            <span class="keyword">if</span> (isValid(tmp)) func(i + <span class="number">1</span>, part - <span class="number">1</span>, out + tmp + <span class="string">'.'</span>, res, s); <span class="comment">//减少了一些操作，让加减操作在赋值过程中完成</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isValid</span><span class="params">(<span class="built_in">string</span> str)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (str.empty() || str.size() &gt; <span class="number">3</span> || (str.size() &gt; <span class="number">1</span> &amp;&amp; str[<span class="number">0</span>] == <span class="string">'0'</span>)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); i ++) &#123;</div><div class="line">                res = res * <span class="number">10</span> + str[i] - <span class="string">'0'</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> (res &lt;= <span class="number">255</span> &amp;&amp; res &gt;=<span class="number">0</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>LeetCode上大神的做法，还没看懂<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; restoreIpAddresses(<span class="built_in">string</span> s) &#123;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> minLen = <span class="number">4</span>;</div><div class="line">        <span class="keyword">int</span> maxLen = <span class="number">12</span>;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (s.size() &lt; minLen || s.size() &gt; maxLen) &#123;</div><div class="line">            <span class="keyword">return</span> result;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        restoreIpAddrHelper(s, <span class="string">""</span>, result, <span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line"><span class="keyword">private</span>:</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">restoreIpAddrHelper</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> ans,</span></span></div><div class="line">                             <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp;result, <span class="keyword">int</span> octNum) &#123;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (s.size() == <span class="number">0</span> &amp;&amp; octNum == <span class="number">4</span>) &#123;</div><div class="line">            ans.pop_back();</div><div class="line">            result.push_back(ans);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> ( (s.size() == <span class="number">0</span> &amp;&amp; octNum != <span class="number">4</span>) ||</div><div class="line">             (s.size() &gt; <span class="number">0</span> &amp;&amp; octNum == <span class="number">4</span>) )&#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">int</span> count = (s.size() &gt; <span class="number">3</span>) ? <span class="number">3</span> : s.size();</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= count; i++) &#123;</div><div class="line">            <span class="built_in">string</span> temp = s.substr(<span class="number">0</span>, i);</div><div class="line">            <span class="keyword">int</span> number = atoi(temp.c_str());</div><div class="line">            </div><div class="line">            <span class="keyword">if</span> (number &gt; <span class="number">255</span> || number &lt; <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (temp.size() &gt; <span class="number">1</span> &amp;&amp; temp[<span class="number">0</span>] == <span class="string">'0'</span>) &#123;</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            <span class="built_in">string</span> ans_temp = ans;</div><div class="line">            ans_temp.append(temp);</div><div class="line">            ans_temp.append(<span class="string">"."</span>);</div><div class="line">            </div><div class="line">            restoreIpAddrHelper(s.substr(i, s.size()), ans_temp, result, octNum+<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="79-Word-Search"><a href="#79-Word-Search" class="headerlink" title="79. Word Search"></a>79. Word Search</h2><p>Description:<br>Given a 2D board and a word, find if the word exists in the grid.</p>
<p>The word can be constructed from letters of sequentially adjacent cell, where “adjacent” cells are those horizontally or vertically neighboring. The same letter cell may not be used more than once.</p>
<p>For example,<br>Given board =<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  [<span class="symbol">'A</span>',<span class="symbol">'B</span>',<span class="symbol">'C</span>',<span class="symbol">'E</span>'],</div><div class="line">  [<span class="symbol">'S</span>',<span class="symbol">'F</span>',<span class="symbol">'C</span>',<span class="symbol">'S</span>'],</div><div class="line">  [<span class="symbol">'A</span>',<span class="symbol">'D</span>',<span class="symbol">'E</span>',<span class="symbol">'E</span>']</div><div class="line">]</div></pre></td></tr></table></figure></p>
<p>word = <code>&quot;ABCCED&quot;</code>, -&gt; returns <code>true</code>,<br>word = <code>&quot;SEE&quot;</code>, -&gt; returns <code>true</code>,<br>word = <code>&quot;ABCB&quot;</code>, -&gt; returns <code>false</code>.</p>
<p>解题思路：<br>貌似把题目理解错了，做不粗来<code>~~~~(&gt;_&lt;)~~~~</code><br>— 更新：题目没有理解错，但是有不少bug<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">exist</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">string</span> word)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (board.empty() || board[<span class="number">0</span>].empty()) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">int</span> n = board.size();</div><div class="line">        <span class="keyword">int</span> m = board[<span class="number">0</span>].size();</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; first;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (board[i][j] == word[<span class="number">0</span>]) first.push_back(&#123;j, i&#125;);<span class="comment">//&#123;j, i&#125;应该为&#123;i, j&#125;</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (first.empty()) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> ch: first) &#123;</div><div class="line">            <span class="keyword">bool</span> flag = <span class="literal">false</span>;</div><div class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; used(n * m, <span class="number">0</span>);</div><div class="line">            search(ch[<span class="number">0</span>], ch[<span class="number">1</span>], n, m, <span class="number">0</span>, word, flag, used, board);</div><div class="line">            <span class="keyword">if</span> (flag) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        </div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="comment">//此处坐标反了，和递归函数的赋值不对应</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> pos_x, <span class="keyword">int</span> pos_y, <span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> k, <span class="built_in">string</span> word, <span class="keyword">bool</span>&amp; flag, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; used, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;<span class="comment">//此处坐标反了，和递归函数的赋值不对应</span></div><div class="line">        <span class="keyword">if</span> (k == word.size()) &#123;flag = <span class="literal">true</span>; <span class="keyword">return</span>;&#125;</div><div class="line">        <span class="keyword">char</span> c = word[k];</div><div class="line">        <span class="comment">//找了很久才发现的，board[pos_x][pos_y]，坐标反了，应该是board[pos_y][pos_x]</span></div><div class="line">        <span class="keyword">if</span> (pos_x &lt; m &amp;&amp; pos_y &lt; n &amp;&amp; pos_x &gt;= <span class="number">0</span> &amp;&amp; pos_y &gt;= <span class="number">0</span> &amp;&amp; board[pos_x][pos_y] == c) &#123;</div><div class="line">            <span class="comment">//up</span></div><div class="line">            <span class="keyword">if</span> (used[(pos_y - <span class="number">1</span>) * m + pos_x] == <span class="number">0</span>) &#123;</div><div class="line">                used[(pos_y - <span class="number">1</span>) * m + pos_x] = <span class="number">1</span>;</div><div class="line">                search(pos_y - <span class="number">1</span>, pos_x, n, m, k + <span class="number">1</span>, word, flag, used, board);</div><div class="line">                used[(pos_y - <span class="number">1</span>) * m + pos_x] = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//down</span></div><div class="line">            <span class="keyword">if</span> (used[(pos_y + <span class="number">1</span>) * m + pos_x] == <span class="number">0</span>) &#123;</div><div class="line">                used[(pos_y + <span class="number">1</span>) * m + pos_x] = <span class="number">1</span>;</div><div class="line">                search(pos_y + <span class="number">1</span>, pos_x, n, m, k + <span class="number">1</span>, word, flag, used, board);</div><div class="line">                used[(pos_y + <span class="number">1</span>) * m + pos_x] = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="comment">//left</span></div><div class="line">            <span class="keyword">if</span> (used[pos_y * m + (pos_x - <span class="number">1</span>)] == <span class="number">0</span>) &#123;</div><div class="line">                used[pos_y * m + (pos_x - <span class="number">1</span>)] = <span class="number">1</span>;</div><div class="line">                search(pos_y, pos_x - <span class="number">1</span>, n, m, k + <span class="number">1</span>, word, flag, used, board);</div><div class="line">                used[pos_y * m + (pos_x - <span class="number">1</span>)] = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="comment">//right</span></div><div class="line">            <span class="keyword">if</span> (used[pos_y * m + (pos_x + <span class="number">1</span>)] == <span class="number">0</span>) &#123;</div><div class="line">                used[pos_y * m + (pos_x + <span class="number">1</span>)] = <span class="number">1</span>;</div><div class="line">                search(pos_y, pos_x + <span class="number">1</span>, n, m, k + <span class="number">1</span>, word, flag, used, board);</div><div class="line">                used[pos_y * m + (pos_x + <span class="number">1</span>)] = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>修改之后，能运行但超时的版本，后面的版本没有超时的原因是，通过<code>与(||)</code>操作的短路原理来实现剪枝，一旦发现一个true则不再执行后续的内容。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">exist</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">string</span> word)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (word.empty()) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">if</span> (board.empty() || board[<span class="number">0</span>].empty()) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">int</span> n = board.size();</div><div class="line">        <span class="keyword">int</span> m = board[<span class="number">0</span>].size();</div><div class="line">        <span class="comment">//vector&lt;vector&lt;int&gt;&gt; first;</span></div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; used(n * m, <span class="literal">false</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</div><div class="line">            <span class="keyword">bool</span> flag = <span class="literal">false</span>;</div><div class="line">            search(i, j, n, m, <span class="number">0</span>, word, flag, used, board);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        </div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> pos_y, <span class="keyword">int</span> pos_x, <span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> k, <span class="built_in">string</span> word, <span class="keyword">bool</span>&amp; flag, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; used, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (k == word.size()) &#123;flag = <span class="literal">true</span>; <span class="keyword">return</span>;&#125;</div><div class="line">                </div><div class="line">        <span class="keyword">if</span> (pos_x &lt; m &amp;&amp; pos_y &lt; n &amp;&amp; pos_x &gt;= <span class="number">0</span> &amp;&amp; pos_y &gt;= <span class="number">0</span> &amp;&amp; board[pos_y][pos_x] == word[k]) &#123;</div><div class="line">        <span class="keyword">if</span> (used[pos_y * m + pos_x] == <span class="literal">true</span>) <span class="keyword">return</span>;</div><div class="line">        used[pos_y * m + pos_x] = <span class="literal">true</span>;</div><div class="line">        <span class="comment">//up</span></div><div class="line">        search(pos_y - <span class="number">1</span>, pos_x, n, m, k + <span class="number">1</span>, word, flag, used, board);</div><div class="line">        <span class="comment">//down</span></div><div class="line">        search(pos_y + <span class="number">1</span>, pos_x, n, m, k + <span class="number">1</span>, word, flag, used, board);</div><div class="line">        <span class="comment">//left</span></div><div class="line">        search(pos_y, pos_x - <span class="number">1</span>, n, m, k + <span class="number">1</span>, word, flag, used, board);</div><div class="line">        <span class="comment">//right</span></div><div class="line">        search(pos_y, pos_x + <span class="number">1</span>, n, m, k + <span class="number">1</span>, word, flag, used, board);</div><div class="line"></div><div class="line">        used[pos_y * m + pos_x] = <span class="literal">false</span>;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">return</span>;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>加入<code>与</code>操作，不能通过版<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">exist</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">string</span> word)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (word.empty()) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">if</span> (board.empty() || board[<span class="number">0</span>].empty()) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">int</span> n = board.size();</div><div class="line">        <span class="keyword">int</span> m = board[<span class="number">0</span>].size();</div><div class="line">        </div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; used(n * m, <span class="literal">false</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (search(i, j, n, m, <span class="number">0</span>, word, used, board)) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> pos_y, <span class="keyword">int</span> pos_x, <span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> k, <span class="built_in">string</span> word, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; used, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (k == word.size()) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="comment">//问题就在board[pos_x][pos_y]坐标反了，半天没查出来</span></div><div class="line">        <span class="keyword">if</span> (pos_x &gt;= m || pos_y &gt;= n || pos_x &lt; <span class="number">0</span> || pos_y &lt; <span class="number">0</span> || used[pos_y * m + pos_x] == <span class="literal">true</span> ||board[pos_x][pos_y] != word[k]) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        </div><div class="line">        used[pos_y * m + pos_x] = <span class="literal">true</span>;           </div><div class="line">            </div><div class="line">        <span class="keyword">bool</span> res = search(pos_y - <span class="number">1</span>, pos_x, n, m, k + <span class="number">1</span>, word, used, board) <span class="comment">//up</span></div><div class="line">                || search(pos_y + <span class="number">1</span>, pos_x, n, m, k + <span class="number">1</span>, word, used, board) <span class="comment">//down</span></div><div class="line">                || search(pos_y, pos_x - <span class="number">1</span>, n, m, k + <span class="number">1</span>, word, used, board) <span class="comment">//left</span></div><div class="line">                || search(pos_y, pos_x + <span class="number">1</span>, n, m, k + <span class="number">1</span>, word, used, board); <span class="comment">//right</span></div><div class="line">        </div><div class="line">        used[pos_y * m + pos_x] = <span class="literal">false</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">        </div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>调了半天后的AC版<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">exist</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="built_in">string</span> word)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (word.empty()) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">if</span> (board.empty() || board[<span class="number">0</span>].empty()) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="keyword">int</span> n = board.size(); <span class="keyword">int</span> m = board[<span class="number">0</span>].size();</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; used(n * m, <span class="literal">false</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (search(i, j, <span class="number">0</span>, n, m, word, used, board)) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> pos_y, <span class="keyword">int</span> pos_x, <span class="keyword">int</span> k,  <span class="keyword">int</span> n, <span class="keyword">int</span> m,<span class="built_in">string</span> word, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; used, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (k == word.size()) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">if</span> (pos_x &gt;= m || pos_y &gt;= n || pos_x &lt; <span class="number">0</span> || pos_y &lt; <span class="number">0</span> || used[pos_y * m + pos_x] == <span class="literal">true</span> || board[pos_y][ pos_x] != word[k]) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        </div><div class="line">        used[pos_y * m + pos_x] = <span class="literal">true</span>;           </div><div class="line">            </div><div class="line">        <span class="keyword">bool</span> res = search(pos_y - <span class="number">1</span>, pos_x, k + <span class="number">1</span>, n, m, word, used, board) <span class="comment">//up</span></div><div class="line">                || search(pos_y + <span class="number">1</span>, pos_x, k + <span class="number">1</span>, n, m, word, used, board) <span class="comment">//down</span></div><div class="line">                || search(pos_y, pos_x - <span class="number">1</span>, k + <span class="number">1</span>, n, m, word, used, board) <span class="comment">//left</span></div><div class="line">                || search(pos_y, pos_x + <span class="number">1</span>, k + <span class="number">1</span>, n, m, word, used, board); <span class="comment">//right</span></div><div class="line">        </div><div class="line">        used[pos_y * m + pos_x] = <span class="literal">false</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="211-Add-and-Search-Word-Data-structure-design"><a href="#211-Add-and-Search-Word-Data-structure-design" class="headerlink" title="211. Add and Search Word - Data structure design"></a>211. Add and Search Word - Data structure design</h2><p>Description</p>
<p>Design a data structure that supports the following two operations:<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> addWord(<span class="keyword">word</span>)</div><div class="line"><span class="keyword">bool</span> search(<span class="keyword">word</span>)</div></pre></td></tr></table></figure></p>
<p>search(word) can search a literal word or a regular expression string containing only letters a-z or .. A . means it can represent any one letter.</p>
<p>For example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">addWord(&quot;bad&quot;)</div><div class="line">addWord(&quot;dad&quot;)</div><div class="line">addWord(&quot;mad&quot;)</div><div class="line">search(&quot;pad&quot;) -&gt; false</div><div class="line">search(&quot;bad&quot;) -&gt; true</div><div class="line">search(&quot;.ad&quot;) -&gt; true</div><div class="line">search(&quot;b..&quot;) -&gt; true</div></pre></td></tr></table></figure></p>
<p><strong>Note:</strong><br>You may assume that all words are consist of lowercase letters <code>a-z</code>.</p>
<p><strong>Hint:</strong><br>You should be familiar with how a Trie works. If not, please work on this problem: <a href="https://leetcode.com/problems/implement-trie-prefix-tree/" target="_blank" rel="external">Implement Trie (Prefix Tree)</a> first.<br>解题思路：<br>不愧是boss关，不会做。<br>建立字典树，然后通过字典树查找<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> WordDictionary &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">/** Initialize your data structure here. */</span></div><div class="line">    <span class="keyword">struct</span> TrieNode &#123;</div><div class="line">        <span class="keyword">public</span>:</div><div class="line">        TrieNode *child[<span class="number">26</span>];</div><div class="line">        <span class="keyword">bool</span> isWord;</div><div class="line">        TrieNode() : isWord(<span class="literal">false</span>) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;a: child) &#123; a = <span class="literal">NULL</span>;&#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    WordDictionary() &#123;</div><div class="line">        root = <span class="keyword">new</span> TrieNode();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Adds a word into the data structure. */</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addWord</span><span class="params">(<span class="built_in">string</span> word)</span> </span>&#123;</div><div class="line">        TrieNode *p = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;a: word) &#123;</div><div class="line">            <span class="keyword">int</span> i = a - <span class="string">'a'</span>;</div><div class="line">            <span class="keyword">if</span> (!p -&gt; child[i]) p -&gt; child[i] = <span class="keyword">new</span> TrieNode();</div><div class="line">            p = p -&gt; child[i];</div><div class="line">        &#125;</div><div class="line">        p -&gt; isWord = <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */</span></div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">search</span><span class="params">(<span class="built_in">string</span> word)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> searchWord(word, root, <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">searchWord</span><span class="params">(<span class="built_in">string</span>&amp; word, TrieNode *p, <span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (i == word.size()) <span class="keyword">return</span> p -&gt; isWord;</div><div class="line">        <span class="keyword">if</span> (word[i] == <span class="string">'.'</span>) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;a: p -&gt; child) &#123;</div><div class="line">                <span class="keyword">if</span> (a &amp;&amp; searchWord(word, a, i + <span class="number">1</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> p -&gt; child[word[i] - <span class="string">'a'</span>] &amp;&amp; searchWord(word, p -&gt; child[word[i] - <span class="string">'a'</span>], i + <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span>:</div><div class="line">    TrieNode *root;</div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="Hard"><a href="#Hard" class="headerlink" title="Hard"></a>Hard</h1><h2 id="52-N-Queens-II"><a href="#52-N-Queens-II" class="headerlink" title="52. N-Queens II"></a>52. N-Queens II</h2><p>Description:<br>Follow up for N-Queens problem.</p>
<p>Now, instead outputting board configurations, return the total number of distinct solutions.</p>
<p><img src="https://leetcode.com/static/images/problemset/8-queens.png" alt="通过的Hard难度的第一题"></p>
<p>解题思路：<br>深度优先方法，剔除掉对角线(其实是左上和右上)以及上方可能出现的棋子的情况进行递归和返回。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">totalNQueens</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; used(n * n, <span class="literal">false</span>);</div><div class="line">        <span class="keyword">return</span> func(<span class="number">0</span>, n, used);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; used)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (i == n) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j ++) &#123;</div><div class="line">            <span class="keyword">bool</span> f = <span class="literal">true</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> ii = <span class="number">0</span>; ii &lt; i; ii ++) &#123;</div><div class="line">                <span class="keyword">if</span> (used[ii *n + j]) &#123;</div><div class="line">                    f = <span class="literal">false</span>; <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (f == <span class="literal">false</span>) <span class="keyword">continue</span>; <span class="comment">//加上之后，略快一点儿</span></div><div class="line">            <span class="keyword">int</span> min = i &lt; j ? i : j;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">1</span>; a &lt;= min; a++) &#123;</div><div class="line">                <span class="keyword">if</span> (used[(i - a) * n + j - a]) &#123;</div><div class="line">                    f = <span class="literal">false</span>; <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (f == <span class="literal">false</span>) <span class="keyword">continue</span>;</div><div class="line">            min = i &lt; (n - j - <span class="number">1</span>) ? i : (n - j - <span class="number">1</span>);</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">1</span>; a &lt;= min; a++) &#123;</div><div class="line">                <span class="keyword">if</span> (used[(i -a) * n + j + a]) &#123;</div><div class="line">                    f = <span class="literal">false</span>; <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (f) &#123;</div><div class="line">                used[i * n + j] = <span class="literal">true</span>;</div><div class="line">                cnt += func(i + <span class="number">1</span>, n , used);</div><div class="line">                used[i * n + j] = <span class="literal">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> cnt;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<hr>
<h2 id="51-N-Queens"><a href="#51-N-Queens" class="headerlink" title="51. N-Queens"></a>51. N-Queens</h2><p>Description:<br>The n-queens puzzle is the problem of placing n queens on an n×n chessboard such that no two queens attack each other.</p>
<p><img src="https://leetcode.com/static/images/problemset/8-queens.png" alt="tu"></p>
<p>Given an integer n, return all distinct solutions to the n-queens puzzle.</p>
<p>Each solution contains a distinct board configuration of the n-queens’ placement, where <code>&#39;Q&#39;</code> and <code>&#39;.&#39;</code> both indicate a queen and an empty space respectively.</p>
<p>For example,<br>There exist two distinct solutions to the 4-queens puzzle:<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line"> [<span class="string">".Q.."</span>,  // Solution <span class="number">1</span></div><div class="line">  <span class="string">"...Q"</span>,</div><div class="line">  <span class="string">"Q..."</span>,</div><div class="line">  <span class="string">"..Q."</span>],</div><div class="line"></div><div class="line"> [<span class="string">"..Q."</span>,  // Solution <span class="number">2</span></div><div class="line">  <span class="string">"Q..."</span>,</div><div class="line">  <span class="string">"...Q"</span>,</div><div class="line">  <span class="string">".Q.."</span>]</div><div class="line">]</div></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; res;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; table;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="built_in">string</span> tmp = <span class="string">""</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j ++) &#123;</div><div class="line">                tmp += ((i ==j) ? <span class="string">'Q'</span> : <span class="string">'.'</span>);</div><div class="line">            &#125;</div><div class="line">            table.push_back(tmp);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; tmp;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; used(n * n, <span class="literal">false</span>);</div><div class="line">        func(<span class="number">0</span>, n, used, table, tmp, res);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">            </div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&amp; used, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; table, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;&amp; res)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (i == n) res.push_back(tmp);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j ++) &#123;</div><div class="line">            <span class="keyword">bool</span> f = <span class="literal">true</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> ii = <span class="number">0</span>; ii &lt; i; ii ++) &#123;</div><div class="line">                <span class="keyword">if</span> (used[ii *n + j]) &#123;</div><div class="line">                    f = <span class="literal">false</span>; <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (f == <span class="literal">false</span>) <span class="keyword">continue</span>;</div><div class="line">            <span class="keyword">int</span> min = i &lt; j ? i : j;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">1</span>; a &lt;= min; a++) &#123;</div><div class="line">                <span class="keyword">if</span> (used[(i - a) * n + j - a]) &#123;</div><div class="line">                    f = <span class="literal">false</span>; <span class="keyword">break</span>;</div><div class="line">                &#125;                </div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (f == <span class="literal">false</span>) <span class="keyword">continue</span>;</div><div class="line">            min = i &lt; (n - j - <span class="number">1</span>) ? i : (n - j - <span class="number">1</span>);</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">1</span>; a &lt;= min; a++) &#123;</div><div class="line">                <span class="keyword">if</span> (used[(i -a) * n + j + a]) &#123;</div><div class="line">                    f = <span class="literal">false</span>; <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">                 </div><div class="line">            <span class="keyword">if</span> (f) &#123;</div><div class="line">                used[i * n + j] = <span class="literal">true</span>;</div><div class="line">                tmp.push_back(table[j]);</div><div class="line">                func(i + <span class="number">1</span>, n , used, table, tmp, res);</div><div class="line">                tmp.pop_back();</div><div class="line">                used[i * n + j] = <span class="literal">false</span>;              </div><div class="line">            &#125;</div><div class="line">            </div><div class="line">        &#125;        </div><div class="line"></div><div class="line">    &#125;    </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<hr>
<p><img src="http://wx1.sinaimg.cn/mw690/bb7e144aly1fjw8f6zmy7j20go02d3yh.jpg" alt="ci chu you tu"></p>
<h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><h2 id="Works-Application笔试题-Coin-Game"><a href="#Works-Application笔试题-Coin-Game" class="headerlink" title="Works Application笔试题 Coin Game"></a>Works Application笔试题 Coin Game</h2><p>Description：<br>There is a rectangular chessboard containing N*M cells, each of which either has one coin or nothing. </p>
<p>You can move all the coins together in one direction (such as up, down, left, and right), but each time you can move these coins by only one cell.</p>
<p>If any coins fall out of the chessboard, they must be thrown away.</p>
<p>If it is required to keep K coins on the board, what is the minimum moves you have to take?</p>
<p>Output -1 if you can not meet this requirement.</p>
<p>输入描述:<br>The first line of the input are two positive integers n, representing the size of the board. For the next n line(s), each line has m numbers of characters, with ‘o’ indicating a coin, ‘.’ indicates an empty grid. The last line is a positive integer k, indicating the number of coins to be retained.</p>
<blockquote>
<p>30% small input: <script type="math/tex">1 \le n,m \le 5, 0 \le k \le 25</script><br>40% medium input: <script type="math/tex">1 \le n,m \le 10, 0 \le k \le 100</script><br>30% large input: <script type="math/tex">1 \le n,m \le 100, 0 \le k \le 10000</script></p>
</blockquote>
<p>输出描述:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Output</div><div class="line">an integer that represents the number of moves, no solution output -1.</div></pre></td></tr></table></figure></p>
<p>示例1<br>输入<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">3</span> <span class="number">4</span></div><div class="line"><span class="selector-class">.o</span>..</div><div class="line">oooo</div><div class="line">.<span class="selector-class">.o</span>.</div><div class="line"><span class="number">3</span></div></pre></td></tr></table></figure></p>
<p>输出<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure></p>
<p>50% case通过率，复杂度过大，回溯如何剪枝？？？<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">countFunc</span><span class="params">(<span class="keyword">int</span> start_row, <span class="keyword">int</span> end_row, <span class="keyword">int</span> start_col, <span class="keyword">int</span> end_col, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt; input)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start_row; i &lt; end_row; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = start_col; j &lt; end_col; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (input[i][j] == <span class="string">'o'</span>) cnt ++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> cnt;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> k, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; input, <span class="keyword">int</span> start_row, <span class="keyword">int</span> end_row, <span class="keyword">int</span> start_col, <span class="keyword">int</span> end_col, <span class="keyword">int</span> count, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; res)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> tmp_cnt = countFunc(start_row, end_row, start_col, end_col, input);</div><div class="line">    <span class="keyword">if</span> (tmp_cnt == k)  &#123;</div><div class="line">        res.push_back(count); </div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (tmp_cnt &lt; k) <span class="keyword">return</span>;</div><div class="line">    </div><div class="line">    <span class="comment">// up</span></div><div class="line">    <span class="keyword">if</span> (start_row &lt; end_row) &#123;</div><div class="line">        start_row += <span class="number">1</span>;</div><div class="line">        count += <span class="number">1</span>;</div><div class="line">        func(k, input, start_row, end_row, start_col, end_col, count, res);</div><div class="line">        count -= <span class="number">1</span>;</div><div class="line">        start_row -= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// down</span></div><div class="line">    <span class="keyword">if</span> (start_row &lt; end_row) &#123;</div><div class="line">        end_row -= <span class="number">1</span>;</div><div class="line">        count += <span class="number">1</span>;</div><div class="line">        func(k, input, start_row, end_row, start_col, end_col, count, res);</div><div class="line">        count -= <span class="number">1</span>;</div><div class="line">        end_row += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// left</span></div><div class="line">    <span class="keyword">if</span> (start_col &lt; end_col) &#123;</div><div class="line">        start_col += <span class="number">1</span>;</div><div class="line">        count += <span class="number">1</span>;</div><div class="line">        func(k, input, start_row, end_row, start_col, end_col, count, res);</div><div class="line">        count -= <span class="number">1</span>;</div><div class="line">        start_col -= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// right </span></div><div class="line">    <span class="keyword">if</span> (start_col &lt; end_col) &#123;</div><div class="line">        end_col -= <span class="number">1</span>;</div><div class="line">        count += <span class="number">1</span>;</div><div class="line">        func(k, input, start_row, end_row, start_col, end_col, count, res);</div><div class="line">        count -= <span class="number">1</span>;</div><div class="line">        end_col += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">        </div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n, m, k;</div><div class="line">    <span class="keyword">char</span> tmp;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; n;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; m;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; temp;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt; input;</div><div class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; tmp) &#123;</div><div class="line">        temp.push_back(tmp);</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (i % m == <span class="number">0</span>) &#123;</div><div class="line">            input.push_back(temp);</div><div class="line">            temp = &#123;&#125;;</div><div class="line">        &#125;</div><div class="line">        i++;</div><div class="line">        <span class="keyword">if</span> (i == m * n + <span class="number">1</span>) &#123;</div><div class="line">            <span class="built_in">cin</span> &gt;&gt; k;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</div><div class="line">    <span class="keyword">int</span> start_row = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> end_row = input.size();</div><div class="line">    <span class="keyword">int</span> start_col = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> end_col = input.size();</div><div class="line">    func(k, input, start_row, end_row, start_col, end_col, <span class="number">0</span>, res);</div><div class="line">    <span class="keyword">if</span> (res.empty()) <span class="built_in">cout</span> &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        sort(res.begin(), res.end());</div><div class="line">        <span class="built_in">cout</span> &lt;&lt; res[<span class="number">0</span>] &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/LeetCode/" rel="tag"># LeetCode</a>
          
            <a href="/tags/Backtracking/" rel="tag"># Backtracking</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div id="needsharebutton-postbottom">
            <span class="btn">
              <i class="fa fa-share-alt" aria-hidden="true"></i>
            </span>
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/09/29/Data-Structure/" rel="next" title="Data Structure">
                <i class="fa fa-chevron-left"></i> Data Structure
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/09/16/2017秋招第一场：京东/" rel="prev" title="2017秋招——京东">
                2017秋招——京东 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
	<div id="gitalk-container"></div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="St. Tomato" />
            
              <p class="site-author-name" itemprop="name">St. Tomato</p>
              <p class="site-description motion-element" itemprop="description">No fuck can say</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/sttomato" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:shentao619@163.com" target="_blank" title="Email">
                    
                      <i class="fa fa-fw fa-envelope"></i>Email</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://weibo.com/3145602122" target="_blank" title="Sina Weibo">
                    
                      <i class="fa fa-fw fa-weibo"></i>Sina Weibo</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Personal Site of My Friends
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.vincentqin.tech/" title="Vincent" target="_blank">Vincent</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://newdee.cf/" title="Newdee" target="_blank">Newdee</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Medium"><span class="nav-number">1.</span> <span class="nav-text">Medium</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#357-Count-Numbers-with-Unique-Digits"><span class="nav-number">1.1.</span> <span class="nav-text">357. Count Numbers with Unique Digits</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-Generate-Parentheses"><span class="nav-number">1.2.</span> <span class="nav-text">22. Generate Parentheses</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#216-Combination-Sum-III"><span class="nav-number">1.3.</span> <span class="nav-text">216. Combination Sum III</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#46-Permutations"><span class="nav-number">1.4.</span> <span class="nav-text">46. Permutations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#89-Gray-Code"><span class="nav-number">1.5.</span> <span class="nav-text">89. Gray Code</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#78-Subsets"><span class="nav-number">1.6.</span> <span class="nav-text">78. Subsets</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#77-Combinations"><span class="nav-number">1.7.</span> <span class="nav-text">77. Combinations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#39-Combination-Sum"><span class="nav-number">1.8.</span> <span class="nav-text">39. Combination Sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#90-Subsets-II"><span class="nav-number">1.9.</span> <span class="nav-text">90. Subsets II</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-Letter-Combinations-of-a-Phone-Number"><span class="nav-number">1.10.</span> <span class="nav-text">17. Letter Combinations of a Phone Number</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#40-Combination-Sum-II"><span class="nav-number">1.11.</span> <span class="nav-text">40. Combination Sum II</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#131-Palindrome-Partitioning"><span class="nav-number">1.12.</span> <span class="nav-text">131. Palindrome Partitioning</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#47-Permutations-II"><span class="nav-number">1.13.</span> <span class="nav-text">47. Permutations II</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#60-Permutation-Sequence"><span class="nav-number">1.14.</span> <span class="nav-text">60. Permutation Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#93-Restore-IP-Addresses"><span class="nav-number">1.15.</span> <span class="nav-text">93. Restore IP Addresses</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#79-Word-Search"><span class="nav-number">1.16.</span> <span class="nav-text">79. Word Search</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#211-Add-and-Search-Word-Data-structure-design"><span class="nav-number">1.17.</span> <span class="nav-text">211. Add and Search Word - Data structure design</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Hard"><span class="nav-number">2.</span> <span class="nav-text">Hard</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#52-N-Queens-II"><span class="nav-number">2.1.</span> <span class="nav-text">52. N-Queens II</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#51-N-Queens"><span class="nav-number">2.2.</span> <span class="nav-text">51. N-Queens</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Other"><span class="nav-number">3.</span> <span class="nav-text">Other</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Works-Application笔试题-Coin-Game"><span class="nav-number">3.1.</span> <span class="nav-text">Works Application笔试题 Coin Game</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">St. Tomato</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script type="text/javascript">
var gitalk = new Gitalk({
clientID: '672f8f00cb27df4f3c09',
clientSecret: 'e4adc0284f9fce90072c64445282ade1c8a8cb81',
repo: 'gitalkComments',
owner: 'sttomato',
admin: ['sttomato'],
id: location.pathname,
distractionFreeMode: 'true'
})
gitalk.render('gitalk-container')
</script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("gsxtkvIRv3K7r1tGfqapPvFg-gzGzoHsz", "PPqCDRc7Phkj97nauG6oywgW");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  

  

  

</body>
</html>
